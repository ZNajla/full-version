<!--add user Page Starts-->
<section id="users-add">
  <div class="row auth-height m-0">
    <div class="col-12 d-flex align-items-center justify-content-center">
      <div class="row m-0">
        <div class="col-md-6 d-lg-flex justify-content-center align-items-center auth-img-bg p-3">
          <img src="assets/img/gallery/register.png" alt="" class="img-fluid" width="900px" height="800px" />
        </div>
        <div class="col-md-6 col-12 px-4 py-3 justify-content-center">
          <h4 class="card-title mb-2">Add New User</h4>
          <p class="mb-5">Fill the below form to create a new account.</p>
          <form [formGroup]="registerForm">
            <div class="form-row">
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="text" formControlName="fullName" class="form-control round" name="fname" placeholder="Name" [ngClass]="{ 'is-invalid': registerFormSubmitted && rf.fullName.invalid, 'is-valid': registerFormSubmitted && !rf.fullName.invalid }"
                  required />
                  <div *ngIf=" registerFormSubmitted && (rf.fullName.invalid || rf.fullName.errors?.required)"
                    class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Name is required
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="text" formControlName="userName" class="form-control round" name="lname" placeholder="User Name" [ngClass]="{ 'is-invalid': registerFormSubmitted && rf.userName.invalid, 'is-valid': registerFormSubmitted && !rf.userName.invalid }"
                  required />
                  <div *ngIf=" registerFormSubmitted && (rf.userName.invalid || rf.userName.errors?.required) "
                    class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> User Name is required
                  </div>
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="text" formControlName="adresse" class="form-control round" placeholder="Adresse" [ngClass]="{
                    'is-invalid': registerFormSubmitted && rf.adresse.invalid,
                    'is-valid': registerFormSubmitted && !rf.adresse.invalid
                  }" required />
                  <div *ngIf=" registerFormSubmitted &&
                  (rf.adresse.invalid || rf.adresse.errors?.required)
                " class="help-block mt-1 text-danger">
                <i class="ft-alert-circle align-middle"></i> adresse is required
              </div>
                </div>
              </div>
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="phone"  class="form-control round" placeholder="(+216)12345678" 
                  formControlName="phoneNumber" [ngClass]="{
                    'is-invalid': registerFormSubmitted && rf.phoneNumber.invalid,
                    'is-valid': registerFormSubmitted && !rf.phoneNumber.invalid
                  }" />
                  <div *ngIf="registerFormSubmitted && rf.phoneNumber.errors?.phone" class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Phone Number must
                    be a valid
                  </div>
                  <div *ngIf=" registerFormSubmitted && (rf.phoneNumber.invalid || rf.phoneNumber.errors?.required)" class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Phone Number is
                    required
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <select class="form-control round" formControlName="gender">
                <option value="" selected>Select Gender</option>
                <option value="Female">Female</option>
                <option value="Male">Male</option>
              </select>
            </div>

            <div class="form-group">
              <select id="users-edit-role" class="form-control round" formControlName="role">
                <option value="" selected="">Select Role</option>
                <option *ngFor="let role of roles">{{ role.Role }}</option>
              </select>
            </div>

            <div class="form-row">
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="text" formControlName="position" class="form-control round" name="fname" placeholder="Position" [ngClass]="{ 'is-invalid': registerFormSubmitted && rf.position.invalid, 'is-valid': registerFormSubmitted && !rf.position.invalid }"
                  required />
                  <div *ngIf=" registerFormSubmitted && (rf.position.invalid || rf.position.errors?.required)"
                    class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Position is required
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="text" formControlName="function" class="form-control round" name="lname" placeholder="Function" [ngClass]="{ 'is-invalid': registerFormSubmitted && rf.function.invalid, 'is-valid': registerFormSubmitted && !rf.function.invalid }"
                  required />
                  <div *ngIf=" registerFormSubmitted && (rf.function.invalid || rf.function.errors?.required) "
                    class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Function is required
                  </div>
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="email" formControlName="email" class="form-control round" placeholder="Email" [ngClass]="{
                    'is-invalid': registerFormSubmitted && rf.email.invalid,
                    'is-valid': registerFormSubmitted && !rf.email.invalid
                  }" required />
                  <div *ngIf="registerFormSubmitted && rf.email.errors?.required" class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Email is required
                  </div>
                  <div *ngIf="registerFormSubmitted && rf.email.errors?.email" class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Email must be a
                    valid email address
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-12">
                <div class="form-group mb-2">
                  <input type="password"  class="form-control round" placeholder="Password" 
                  formControlName="password" [ngClass]="{
                    'is-invalid': registerFormSubmitted && rf.password.invalid,
                    'is-valid': registerFormSubmitted && !rf.password.invalid
                  }" />
                  <div *ngIf="registerFormSubmitted && rf.password.errors?.required" class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Password is
                    required
                  </div>
                  <div *ngIf="
                      registerFormSubmitted &&
                      !rf.password.errors?.required && rf.password.errors?.minlength
                    " class="help-block mt-1 text-danger">
                    <i class="ft-alert-circle align-middle"></i> Password must be at
                    least 6 characters
                  </div>
                </div>
              </div>
            </div>

            <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
              <button type="submit" class="btn btn-primary round mr-2" (click)="onSubmit()">Register</button>
              <button type="reset" class="btn btn-primary round">Reset</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
<!--add user Page Ends-->